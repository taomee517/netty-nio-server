package com.demo.netty.echo.test;

import com.demo.netty.echo.utils.BytesUtil;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.channel.ChannelHandlerContext;
import io.netty.channel.ChannelInboundHandlerAdapter;

import java.nio.charset.Charset;

public class MyClientHandler extends ChannelInboundHandlerAdapter {
    private int flag = 0;


    @Override
    public void channelActive(ChannelHandlerContext ctx) throws Exception {
//        String msg = DefaultValue.DEFAULT_FIRST_MSG;
//        ByteBuf buf = Unpooled.buffer(msg.length());
//        for(int i=0;i<msg.length();i++){
//            buf.writeByte((byte)msg.charAt(i));
//        }

//        String hex = "3a 30 31 32 34 30 34 33 38 32 30 30 38 33 31 31 31 33 30 30 30 2b 38 34 31 2e 38 32 32 2b 33 30 37 39 2e 34 30 2b 37 35 33 2e 36 38 35 2b 33 30 33 36 2e 36 33 2b 38 32 31 2e 38 38 31 2b 33 30 38 31 2e 32 39 2b 38 32 33 2e 37 33 39 2b 33 30 35 34 2e 31 30 2b 38 36 32 2e 38 32 37 2b 33 30 34 30 2e 30 30 2b 38 32 33 2e 35 34 36 2b 33 30 30 36 2e 39 34 2b 38 31 32 2e 39 30 31 2b 33 30 32 38 2e 34 35 2b 38 39 39 2e 30 39 35 2b 32 39 37 35 2e 36 31 2b 37 36 33 2e 33 32 30 2b 33 30 31 33 2e 38 32 2b 38 35 38 2e 37 30 34 2b 32 39 38 36 2e 35 36 2b 37 39 37 2e 35 34 32 2b 32 39 39 35 2e 36 35 2b 38 35 33 2e 30 37 30 2b 33 30 34 31 2e 39 31 2b 32 30 36 32 2e 34 33 2b 32 38 36 35 2e 30 30 2b 31 37 30 32 2e 38 39 2b 32 38 33 36 2e 38 32 2b 31 38 33 38 2e 38 32 2b 32 39 33 36 2e 33 32 2b 31 37 34 38 2e 31 30 2b 32 39 33 37 2e 34 39 2b 31 38 31 35 2e 37 39 2b 32 39 32 37 2e 37 36 2b 33 31 34 34 2e 34 38 2b 32 39 38 35 2e 37 38 2b 33 32 34 36 2e 36 36 2b 33 30 36 33 2e 32 32 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 37 34 0d 0a";
//        byte[] bytes = BytesUtil.hex2Bytes(hex);
//        ByteBuf buf = Unpooled.wrappedBuffer(bytes);
//        ctx.writeAndFlush(buf);
//        System.out.println("向服务器发送消息：" + new String(bytes));
    }

    @Override
    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
        ByteBuf byteBuf = (ByteBuf)msg;
        String data = byteBuf.toString(Charset.forName("utf-8"));
        System.out.println("收到消息：" + data);

//        String hex = "3a 30 31 32 34 30 34 33 38 32 30 30 38 33 31 31 31 33 30 30 30 2b 38 34 31 2e 38 32 32 2b 33 30 37 39 2e 34 30 2b 37 35 33 2e 36 38 35 2b 33 30 33 36 2e 36 33 2b 38 32 31 2e 38 38 31 2b 33 30 38 31 2e 32 39 2b 38 32 33 2e 37 33 39 2b 33 30 35 34 2e 31 30 2b 38 36 32 2e 38 32 37 2b 33 30 34 30 2e 30 30 2b 38 32 33 2e 35 34 36 2b 33 30 30 36 2e 39 34 2b 38 31 32 2e 39 30 31 2b 33 30 32 38 2e 34 35 2b 38 39 39 2e 30 39 35 2b 32 39 37 35 2e 36 31 2b 37 36 33 2e 33 32 30 2b 33 30 31 33 2e 38 32 2b 38 35 38 2e 37 30 34 2b 32 39 38 36 2e 35 36 2b 37 39 37 2e 35 34 32 2b 32 39 39 35 2e 36 35 2b 38 35 33 2e 30 37 30 2b 33 30 34 31 2e 39 31 2b 32 30 36 32 2e 34 33 2b 32 38 36 35 2e 30 30 2b 31 37 30 32 2e 38 39 2b 32 38 33 36 2e 38 32 2b 31 38 33 38 2e 38 32 2b 32 39 33 36 2e 33 32 2b 31 37 34 38 2e 31 30 2b 32 39 33 37 2e 34 39 2b 31 38 31 35 2e 37 39 2b 32 39 32 37 2e 37 36 2b 33 31 34 34 2e 34 38 2b 32 39 38 35 2e 37 38 2b 33 32 34 36 2e 36 36 2b 33 30 36 33 2e 32 32 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 37 34 0d 0a";
//        String hex = "3a 31 30 32 34 30 30 30 30 32 30 31 30 31 34 31 35 30 30 30 30 2b 30 2e 30 30 30 30 30 2b 30 2e 30 31 30 30 30 2b 30 2e 30 30 30 30 30 2b 35 35 32 34 2e 32 32 2b 30 2e 32 37 38 39 39 2b 30 2e 35 32 30 39 36 2b 30 2e 33 30 33 31 30 2b 30 2e 35 31 33 36 31 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 30 35 0d 0a";
//        String hex = "3a 36 30 32 34 30 30 30 30 32 30 31 30 31 34 31 35 30 30 30 30 2b 32 31 37 39 2e 33 33 2b 35 35 34 39 2e 31 36 2b 32 34 37 37 2e 37 39 2b 35 34 38 33 2e 34 33 2b 32 35 31 35 2e 31 33 2b 35 35 38 36 2e 33 36 2b 32 32 38 34 2e 36 32 2b 30 39 39 39 33 36 37 2b 32 38 35 30 2e 34 32 2b 35 35 33 38 2e 33 37 2b 32 37 31 38 2e 37 30 2b 35 34 34 34 2e 32 33 2b 32 36 31 38 2e 36 37 2b 35 34 39 37 2e 38 36 2b 31 32 38 34 2e 34 32 2b 35 34 32 31 2e 35 33 2b 32 32 36 36 2e 34 32 2b 35 34 32 37 2e 39 35 2b 32 37 36 30 2e 38 38 2b 35 36 34 31 2e 35 35 2b 32 39 32 36 2e 39 30 2b 35 35 32 37 2e 33 35 2b 32 34 38 30 2e 36 33 2b 35 34 37 35 2e 37 33 2b 32 35 34 38 2e 36 32 2b 35 35 39 30 2e 36 31 2b 32 31 36 30 2e 38 34 2b 35 33 36 36 2e 31 33 2b 32 31 31 36 2e 36 32 2b 35 34 37 36 2e 35 32 2b 32 33 38 31 2e 38 38 2b 35 35 38 35 2e 30 37 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 39 41 0d 0a";
//        String hex = "3a 36 31 32 34 30 30 30 35 32 30 31 30 31 34 31 35 30 30 30 30 2b 30 2e 30 30 30 30 30 2b 35 36 33 36 2e 32 39 2b 30 2e 30 30 30 30 30 2b 35 35 37 34 2e 32 31 2b 30 2e 33 34 32 36 39 2b 30 2e 35 31 34 35 38 2b 30 2e 33 34 35 36 36 2b 30 2e 34 39 36 31 35 2b 30 2e 30 30 30 30 30 2b 35 37 34 37 2e 39 39 2b 30 2e 30 30 30 30 30 2b 35 37 36 38 2e 36 32 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 35 30 0d 0a";
//        String hex = "3A 31 46 32 32 31 30 30 30 30 30 30 30 30 32 37 33 33 41 0D 0A";
//        String hex = "3a 30 32 32 34 30 32 33 35 32 30 30 38 33 31 31 34 30 30 30 30 2b 32 39 34 33 2e 37 36 2b 33 30 35 39 2e 31 39 2b 33 30 32 30 2e 30 31 2b 33 30 32 36 2e 38 38 2b 30 2e 31 37 31 35 37 2d 30 2e 31 37 32 32 33 2d 30 2e 34 39 32 39 32 2d 30 2e 31 36 35 30 37 2b 30 2e 30 30 30 30 30 2b 33 31 30 32 2e 33 34 2d 30 2e 32 30 31 37 31 2b 30 2e 32 30 32 35 38 2b 30 2e 30 30 30 30 30 2b 33 35 31 36 2e 36 38 2b 30 2e 33 31 32 39 35 2b 30 2e 31 30 33 39 36 2b 30 2e 30 30 30 30 30 2b 33 31 31 34 2e 36 32 2d 30 2e 30 30 33 35 38 2b 30 2e 30 30 33 37 39 2b 30 2e 30 30 30 30 30 2b 33 35 37 38 2e 31 31 2b 30 2e 30 32 36 32 31 2b 30 2e 30 30 38 34 34 2b 30 2e 30 30 30 30 30 2b 34 31 38 36 2e 34 33 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 38 42 0d 0a";
//        String hex = "3a 30 32 32 34 30 32 33 35 32 30 30 38 33 31 31 34 30 30 30 30 2b 32 39 34 33 2e 37 36 2b 33 30 35 39 2e 31 39 2b 33 30 32 30 2e 30 31 2b 33 30 32 36 2e 38 38 2b 30 2e 31 37 31 35 37 2d 30 2e 31 37 32 32 33 2d 30 2e 34 39 32 39 32 2d 30 2e 31 36 35 30 37 2b 30 2e 30 30 30 30 30 2b 33 31 30 32 2e 33 34 2d 30 2e 32 30 31 37 31 2b 30 2e 32 30 32 35 38 2b 30 2e 30 30 30 30 30 2b 33 35 31 36 2e 36 38 2b 30 2e 33 31 32 39 35 2b 30 2e 31 30 33 39 36 2b 30 2e 30 30 30 30 30 2b 33 31 31 34 2e 36 32 2d 30 2e 30 30 33 35 38 2b 30 2e 30 30 33 37 39 2b 30 2e 30 30 30 30 30 2b 33 35 37 38 2e 31 31 2b 30 2e 30 32 36 32 31 2b 30 2e 30 30 38 34 34 2b 30 2e 30 30 30 30 30 2b 34 31 38 36 2e 34 33 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 38 42 0d 0a";
//        String hex = "3a 30 32 32 34 30 32 33 35 32 30 30 38 33 31 31 34 30 30 30 30 2b 32 39 34 33 2e 37 36 2b 33 30 35 39 2e 31 39 2b 33 30 32 30 2e 30 31 2b 33 30 32 36 2e 38 38 2b 30 2e 31 37 31 35 37 2d 30 2e 31 37 32 32 33 2d 30 2e 34 39 32 39 32 2d 30 2e 31 36 35 30 37 2b 30 2e 30 30 30 30 30 2b 33 31 30 32 2e 33 34 2d 30 2e 32 30 31 37 31 2b 30 2e 32 30 32 35 38 2b 30 2e 30 30 30 30 30 2b 33 35 31 36 2e 36 38 2b 30 2e 33 31 32 39 35 2b 30 2e 31 30 33 39 36 2b 30 2e 30 30 30 30 30 2b 33 31 31 34 2e 36 32 2d 30 2e 30 30 33 35 38 2b 30 2e 30 30 33 37 39 2b 30 2e 30 30 30 30 30 2b 33 35 37 38 2e 31 31 2b 30 2e 30 32 36 32 31 2b 30 2e 30 30 38 34 34 2b 30 2e 30 30 30 30 30 2b 34 31 38 36 2e 34 33 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 45 31 30 30 30 30 30 30 38 42 0d 0a";
        if (flag==0) {
//            String ascii = ":5E240004201029200000+902.168+6561.14+921.893+6275.21+902.566+6278.62+941.482+6544.56+910.677+6194.59+904.018+6192.53+907.037+6134.48+928.072+6263.67+914.700+6278.19+911.239+6163.11+905.099+6122.67+928.170+6237.02+0.87403+0.29414-0.21509-0.07237+0.27029+0.48972+0.30894+0.46181E1000000E1000000FF\r\n";
//        byte[] bytes = BytesUtil.hex2Bytes(hex);
//            String ascii = ":5E240023201030150000+901.623+6419.84+921.414+6298.72+902.105+6281.80+940.181+6437.22+910.295+6219.42+903.671+6200.10+906.670+6148.33+927.824+6276.286371.13+910.596+6237.96+904.772+6185.97+927.913+6346.04+0.87385+0.29411-0.21505-0.072���������������������459+0.51410E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000FF\r\n";
            //首发一期02
//            String ascii = ":02240000201113142000+2956.52+5171.63+3029.49+5299.69+0.07141-0.07180-0.49864-0.16688+245.806+4856.09-0.20129+0.20210+349.843+4110.97+0.31599+0.10500+0.00000+4803.54-0.00917+0.00932+0.00000+4135.06+0.02293+0.00738+0.00000+4101.77E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E10000009D\r\n";
            //首发二期31 通道9少了一个参数
//            String ascii = ":1F240000201113090000+923.757+7199.10+923.018+4.15669+906.941+7128.64+932.083+6982.07+894.917+7057.10+910.684+6956.84+928.079+7014.59+913.445+6990.717261.18+918.915+7158.62+909.278+7416.13+886.724+7275.53-0.11443-0.03826-0.02001-0.00699+0.30492+0.46874+0.34186+0.42600E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E10000004D\r\n";
            //首发二期38
//            String ascii = ":26240000201113140000+901.041+6425.86+925.722+6570.13+906.270+6555.11+932.790+6704.32+897.061+6323.84+934.563+6231.25+916.785+6451.07+899.690+6982.19+903.030+6340.16+904.880+6500.98+938.268+6611.70+932.904+6660.14-0.74138-0.24691+0.60628+0.20200+0.27219+0.48341E3000000E3000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E10�&��*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*ł�����*�j\r\n";
            //首发二期94
//            String ascii = ":5E240000201113150000+901.297+7182.81+920.803+7145.05+901.734+7090.25+940.435+7196.95+911.604+7003.58+902.893+7035.42+906.646+6956.82+926.679+7066.04+913.944+7134.20+912.358+7097.02+903.693+6997.05+928.415+7076.73+0.87289+0.29393-0.21598-0.072300.46598+0.30765+0.48914E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E100000081\r\n";
            //首发二期34
//            String ascii = ":22240000201113150000+949.461+6579.48+924.848+6501.09+931.760+6598.58+907.268+6303.28+925.843+6508.07+941.732+6427.29+914.066+6311.61+900.140+6357.41+918.214+6716.66+912.683+6632.26+905.339+6802.98+928.463+6487.69+0.70470+0.23718-0.98560-0.330870.56664+0.27552+0.48867E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E100000053\r\n";
            String ascii = ":22240000201113140000+949.182+6585.22+924.834+6500.36+931.570+6599.18+907.136+6310.48+925.735+6506.73+941.587+6423.11+913.737+6303.32+900.106+6354.32+918.043+6706.19+912.611+6621.63+905.310+6796.42+928.214+6479.66+0.70578+0.23696-0.98579-0.33098+0.14736+0.57286+0.27137+0.48886E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000E1000000F4\r\n";
            byte[] bytes = ascii.getBytes();
            ByteBuf buf = Unpooled.wrappedBuffer(bytes);
            ctx.writeAndFlush(buf);
            System.out.println("向服务器发送消息：" + new String(bytes));
        }
        flag ++;
    }

    @Override
    public void channelReadComplete(ChannelHandlerContext ctx) throws Exception {
       ctx.flush();
    }

    @Override
    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
        cause.printStackTrace();
        ctx.close();
    }
}
